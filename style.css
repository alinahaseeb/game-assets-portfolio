:root { --bg:#0e0e0f; --fg:#eaeaea; --muted:#a0a0a0; --card:#161618; }
* { box-sizing: border-box; }
html, body { height:100%; margin:0; background:var(--bg); color:var(--fg); font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }

/* Layout: fixed sidebar (25%), scrollable gallery */
.layout { display:flex; height:100vh; overflow:hidden; }

.sidebar {
  width:25vw; min-width:260px; max-width:520px;
  padding:1.25rem 1.25rem 1rem;
  display:flex; flex-direction:column; gap:1rem;
  border-right:1px solid #222;
}
.brand { font-weight:700; letter-spacing:.2px; font-size:1.1rem; }
.asset-list { display:flex; flex-direction:column; gap:.4rem; }
.asset-link { color:var(--fg); text-decoration:none; opacity:.85; padding:.35rem .25rem; border-radius:.5rem; }
.asset-link:hover { opacity:1; background:#1b1b1d; }
.sidebar-footer { margin-top:auto; color:var(--muted); font-size:.9rem; opacity:.8; }

/* Only the grid scrolls */
.gallery { flex:1; height:100vh; overflow-y:auto; }
.gallery::-webkit-scrollbar { width:10px; }
.gallery::-webkit-scrollbar-thumb { background:#2a2a2e; border-radius:10px; }

/* Default: true CSS Grid masonry */
.masonry {
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  grid-auto-flow: row dense;
  grid-template-rows: masonry;
  gap:1rem;
  padding:1.25rem;
  max-width: 1200px; /* 3 cols * 400px-ish */
  margin: 0 auto;
}

/* Safari fallback: use CSS columns when masonry isnâ€™t supported */
@supports not (grid-template-rows: masonry) {
  .masonry {
    column-count: 3;
    column-gap: 1rem;
    padding: 1.25rem;
  }
  .card {
    display:inline-block;
    width:100%;
    margin:0 0 1rem;
  }
}

@media (max-width:1100px){ .sidebar{ width:28vw; } }
@media (max-width:720px){
  .layout{ flex-direction:column; }
  .sidebar{ width:100%; border-right:none; border-bottom:1px solid #222; }
  .gallery{ height:calc(100vh - 140px); }
  .masonry{ padding:1rem; }
}

/* Cards */
.card {
  display:block;
  width:100%;
  background:var(--card);
  border-radius:16px;
  color:inherit;
  text-decoration:none;
  break-inside:avoid;
  page-break-inside:avoid;
  -webkit-column-break-inside:avoid;
  box-shadow:0 1px 0 rgba(255,255,255,0.04), 0 12px 30px rgba(0,0,0,0.25);
}

.card-media {
  display:block;
  width:100%;
  height:auto;         /* critical: let intrinsic ratio set height */
  object-fit:cover;    /* looks good for thumbs; switch to 'contain' if you prefer no cropping */
  background:#000;
}

.card-meta { padding:.75rem .9rem; }
.card-meta h3 { margin:.1rem 0 .2rem; font-size:1.05rem; }
.card-meta p  { margin:0; color:var(--muted); font-size:.9rem; }
